#!/usr/bin/env ruby

require 'thor'

require_relative '../lib/config'
require_relative '../lib/organization'
require_relative '../lib/accounts'
require_relative '../lib/resources'

# Main Thor class for LZ
class LZ < Thor
  desc 'init', 'Create new lz configuration skeleton'
  def init
    Config.new.init_skeleton
  end

  desc 'organization', 'Configure organization and organizational units'
  def organization
    Organization.deploy
  end

  desc 'accounts', 'Create accounts and attach to organization'
  def accounts
    Accounts.deploy
  end

  desc 'resources', 'Deploy resources per account'
  def resources
    Resources.deploy
  end
end

LZ.start(ARGV)
