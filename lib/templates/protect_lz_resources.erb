Description: > 
  This stack will restrict modification of lz deployed resources.

Resources:
  lzprotectresources:
    Type: AWS::IAM::ManagedPolicy
    Properties:
      Description: This policy will restrict modification of lz deployed resources.
      ManagedPolicyName: lz-restriction-policy
      Roles: 
<% cfg[:restricted_roles].each do |role| -%>
        - <%= role %>
<% end -%>
      PolicyDocument:
        Version: 2012-10-17
        Statement:
          - Effect: Deny
            Action:
              - iam:DeleteRole
            Resources:
              - !Sub 'arn:aws:iam::${AWS::AccountId}:role/lzadm'
